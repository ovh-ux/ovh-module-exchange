<div class="container-fluid px-0" data-ng-controller="ExchangeTabTasksCtrl as ctrl">

    <div class="alert alert-warning" role="alert"
         data-ng-if="ctrl.tasksList.list.messages.length > 0">
        <div>
            <strong data-translate="exchange_tab_TASKS_warning"></strong>
            <span data-translate="exchange_tab_TASKS_partial"></span>
        </div>
    </div>

    <div class="alert alert-info" role="alert"
         data-translate="exchange_tab_TASKS_table_empty"
         data-ng-if="ctrl.tasksList.list.results.length === 0">
    </div>

    <oui-datagrid data-rows-loader="ctrl.loadPaginated($config)">
        <oui-column data-title="tr('exchange_tab_TASKS_table_function')" data-property="function">
            {{tr('exchange_tab_TASKS_' + $row.function)}}
        </oui-column>
        <oui-column data-title="tr('exchange_tab_TASKS_table_state')" data-property="status">
            <span class="fa fa-lg" data-ng-attr-title="{{tr('exchange_tab_TASKS_' + $row.status)}}"
                  data-ng-class="{
                                'fa-hourglass-half text-info': $row.status === ctrl.states.doing || $row.status === ctrl.states.todo,
                                'fa-times-circle text-danger': $row.status === ctrl.states.error,
                                'fa-ban text-danger': $row.status === ctrl.states.cancelled}"
                  data-ng-if="$row.status === ctrl.states.doing || $row.status === ctrl.states.todo || $row.status === ctrl.states.error || $row.status === ctrl.states.cancelled"></span>
            <span data-ng-bind="tr('exchange_tab_TASKS_'+ $row.status)"
                  data-ng-if="$row.status === ctrl.states.done"></span>
        </oui-column>
        <oui-column data-title="tr('exchange_tab_TASKS_table_start_date')" data-property="todoDate">
            <span data-ng-bind="::$row.todoDate | date:'short'"></span>
        </oui-column>
        <oui-column data-title="tr('exchange_tab_TASKS_table_finish_date')" data-property="finishDate">
            <span data-ng-bind="::$row.finishDate | date:'short'"></span>
        </oui-column>
    </oui-datagrid>
</div>
